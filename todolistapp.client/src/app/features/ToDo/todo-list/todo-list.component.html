<h1>Your Task</h1>

<!-- async pipe -> is sub on this todoitems observable -->
<ng-container *ngIf="toDoItems$ | async as toDoItems">
  <div class="cardContainer">
    <div class="card" *ngFor="let toDoItem of toDoItems">
      <div class="cardBody">
        <div class="field">
          <!-- isMarked -->
          <input
            title="Mark or not"
            type="checkbox"
            class="checkbox"
            [checked]="toDoItem.isMarked"
          />
        </div>
        <!-- title -->
        <div class="field">
          <h4 class="fieldtitle">Task</h4>
          <input
            title="title"
            type="text"
            class="text"
            [(ngModel)]="toDoItem.title"
            [readonly]="!isInEditMode(toDoItem.id.toString())"
          />
        </div>
        <!-- content -->
        <div class="field">
          <h4 class="fieldtitle">Description</h4>
          <input
            title="description"
            type="text"
            class="text"
            [(ngModel)]="toDoItem.content"
            [readonly]="!isInEditMode(toDoItem.id.toString())"
          />
        </div>
        <!-- created at  -->
        <div class="field">
          <h4 class="fieldtitle">Created</h4>
          <div class="text">{{toDoItem.createdAt | date: 'MM/dd/yyyy'}}</div>
        </div>
        <!-- updated at -->
        <div class="field">
          <h4 class="fieldtitle">Upadate</h4>
          <div class="text">{{toDoItem.updatedAt| date: 'MM/dd/yyyy'}}</div>
        </div>
        <!-- edit button -->
        <button *ngIf="!isInEditMode(toDoItem.id.toString())" class="myBtn myBtnEdit" (click)="onEdit(toDoItem)">Edit</button>
        <!-- delete button -->
        <button *ngIf="!isInEditMode(toDoItem.id.toString())" class="myBtn myBtnDelete" (click)="onDelete(toDoItem.id.toString())">Delete</button>
        <!-- save button -->
        <button *ngIf="isInEditMode(toDoItem.id.toString())" class="myBtn myBtnSave" (click)="onSave(toDoItem)">Save</button>
        <!-- cancel button -->
        <button *ngIf="isInEditMode(toDoItem.id.toString())" class="myBtn myBtnCancel" (click)="onCancel()">Cancel</button>
      </div>
    </div>
  </div>
</ng-container>
